function exportGLTF(t,e){AFRAME.scenes[0].systems["gltf-exporter"].export(t,e)}AFRAME.registerComponent("randgen",{multiple:!0,schema:{minShapes:{type:"number",default:10},maxShapes:{type:"number",default:20},custumGlb:{type:"boolean",default:!1},exportToGLB:{type:"boolean",default:!1},withTextures:{type:"boolean",default:!0},lights:{type:"boolean",default:!1},randomColor:{type:"boolean",default:!1},makeFlat:{type:"boolean",default:!1},randSeed:{type:"number",default:8},randSeedScale:{type:"number",default:2},custumTexturesIDs:{type:"array",default:[]},custumModels:{type:"array",default:[]}},init:function(){const t=this.data,e=t.minShapes,n=t.maxShapes,a=(this.el,this.genRanNum(e,n));if(this.makeSculpture(a,t),t.exportToGLB){document.getElementById("exportBtn").addEventListener("click",this.exportToGlb)}},update:function(t){const e=this.data,n=this.el;console.log("UPDATE FUNCTION HIT..."),0!==Object.keys(t).length?e.minShapes!==t.minShapes&&(n.setAttribute("minShapes",e.minShapes),console.log("MIN CHANGE DETECTED"+e.minShapes)):console.log("exit")},remove:function(){},tick:function(t,e){},makeSculpture:function(t,e){let n;const a={flat:e.makeFlat,custumGlb:e.custumGlb,colorState:e.randomColor,withTextures:e.withTextures};for(n=0;n<t;n++){this.genArtwork(n,e,a);const t=e.lights;if(n===n%2&&t){let t,e,n,a,i,s,o,r=document.createElement("a-entity");t=this.genRanNum(0,4),e=this.genRanNum(0,1),n=this.genRanNum(0,11),i=this.genRanNum(0,45),s=this.genRanNum(0,45),o=this.genRanNum(0,45),a=this.genRanNum(.1,.6);let u=this.randColor().toString;r.setAttribute("light","type: spot; intensity:"+a+"decay: 0.12; penumbra: 0.24; castShadow: true"),r.setAttribute("color","#"+u),r.setAttribute("position",{x:t,y:e,z:n}),r.setAttribute("rotation",{x:i,y:s,z:o}),this.el.appendChild(r)}}},genArtwork:function(t,e,n){let a,i,s,o,r,u,l=0,m=0,h=0,c=e.randSeed,d=this.genRanNum(0,c),g=e.randSeedScale,p=this.genRanNum(.5,g),f=this.genRanNum(.5,g);if(a=this.genRanNum(p,d),n.flat||(i=this.genRanNum(p,d)),s=this.genRanNum(p,d),l=this.genRanNum(1,f),m=this.genRanNum(1,f),h=this.genRanNum(1,f),n.custumGlb?(o=document.createElement("a-entity"),u=this.randomiseGLB(e),o.setAttribute("gltf-model","#"+u)):(r=this.randomisePiece(),o=document.createElement(r)),n.colorState){let t=this.randColor();o.setAttribute("material","color","#"+t)}if(n.withTextures){let t=this.randomiseTexture(e);o.setAttribute("material","src","#"+t)}o.setAttribute("position",{x:a,y:i,z:s}),o.setAttribute("scale",{x:l,y:m,z:h}),o.setAttribute("name","genPiece"),o.setAttribute("class","genPiece"+t),o.setAttribute("roughness",this.genRanNum(0,1)),o.setAttribute("metalness",this.genRanNum(0,.2)),this.el.appendChild(o)},randomisePiece:function(){const t=["a-box","a-sphere","a-cylinder","a-dodecahedron","a-ring","a-circle","a-triangle","a-torus","a-tetrahedron"];return t[this.genRanNum(0,t.length)]},randomiseTexture:function(t){const e=t.custumTexturesIDs;return e[this.genRanNum(0,e.length)]},randomiseGLB:function(t){const e=t.custumModels;return e[this.genRanNum(0,e.length)]},randColor:function(){return Math.floor(16777215*Math.random()).toString(16)},genRanNum:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},exportToGlb:function(){exportGLTF()}});